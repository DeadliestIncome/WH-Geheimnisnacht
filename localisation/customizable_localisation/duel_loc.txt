#AVIALABLE CUSTOM LOCALISATION KEYS
#When adding new custom loc keys, add them to the appropriate category (or add a new one) and describe them. Name the strings "String_X" where x is its content.
# To not display anything, you can use 'localisation_key = ""'

#GetDuelOutcome - duel outcome for winner
#GetDuelOutcomeLoser - duel outcome for winner
#GetDuelOutcomeDraw - duel outcome for draw case (death)

# Winner duel outcomes
defined_text = {
	name = GetDuelOutcome

	# Meele 
	text = {
		localisation_key = GetDuelOutcome_MeleeMaim
		trigger = {
			has_character_flag = duel_maim
			NOT = { has_character_flag = overwhelming_victory}
			z_magic_dueling_valid_caster = no
		}
	}
	text = {
		localisation_key = GetDuelOutcome_MeleeOverpower
		trigger = {
			NOT = { has_character_flag = duel_maim }
			NOT = { has_character_flag = overwhelming_victory}
			z_magic_dueling_valid_caster = no
		}
	}
	text = {
		localisation_key = GetDuelOutcome_MeleeDeath
		trigger = {
			z_magic_dueling_valid_caster = no
			has_character_flag = overwhelming_victory
		}
	}
	# Spellcaster(ROOT) vs melee (ENEMY)
	text = {
		localisation_key = GetDuelOutcome_MagicMaim
		trigger = {
			z_magic_dueling_valid_caster = yes
			has_character_flag = duel_maim
			NOT = { has_character_flag = overwhelming_victory}
		}
	}
	text = {
		localisation_key = GetDuelOutcome_MagicOverpower
		trigger = {
			z_magic_dueling_valid_caster = yes
			NOT = { has_character_flag = duel_maim }
			NOT = { has_character_flag = overwhelming_victory}
		}
	}
	text = {
		localisation_key = GetDuelOutcome_MagicDeath
		trigger = {
			z_magic_dueling_valid_caster = yes
			has_character_flag = overwhelming_victory
		}
	}
}
# Loser outcomes
defined_text = {
	name = GetDuelOutcomeLoser

	# Meele 
	text = {
		localisation_key = GetDuelOutcomeLoser_MeleeMaim
		trigger = {
			FROM = {
				AND = {
					has_character_flag = duel_maim	
					NOT = { has_character_flag = overwhelming_victory }
				}
			}
		}
	}
	text = {
		localisation_key = GetDuelOutcomeLoser_MeleeOverpower
		trigger = {
			FROM = {
				NOR = { 
					has_character_flag = overwhelming_victory
					has_character_flag = duel_maim 
				}
			}
		}
	}
	text = {
		localisation_key = GetDuelOutcomeLoser_MeleeDeath
		trigger = {
			FROM = { 
				has_character_flag = overwhelming_victory 
			}
		}
	}
	# Melee(ROOT) vs Spellcaster(FROM)
	text = {
		localisation_key = GetDuelOutcomeLoser_MagicMeleeMaim
		trigger = {
			FROM = {
				z_magic_dueling_valid_caster = yes
				has_character_flag = duel_maim
				NOT = { has_character_flag = overwhelming_victory}
			}
		}
	}
	text = {
		localisation_key = GetDuelOutcomeLoser_MagicMeleeOverpower
		trigger = {
			FROM = {
				z_magic_dueling_valid_caster = yes
				NOT = { has_character_flag = duel_maim }
				NOT = { has_character_flag = overwhelming_victory}
			}
		}
	}
	text = {
		localisation_key = GetDuelOutcomeLoser_MagicDeath
		trigger = {
			FROM = {
				z_magic_dueling_valid_caster = yes
				has_character_flag = overwhelming_victory
			}
		}
	}
}

# Draw outcomes
defined_text = {
	name = GetDuelOutcomeDraw

	text = {
		localisation_key = GetDuelOutcomeDraw_MeleeDeath
		trigger = {
			always = yes
		}
	}
}

# Duel place
defined_text = {
	name = GetDuelPlaceDesc

	text = {
		localisation_key = GetDuelPlaceDesc_battle
		trigger = {
			OR = {
				in_battle = yes
				in_command = yes
			}
		}
	}
	text = {
		localisation_key = GetDuelPlaceDesc_staged
		trigger = {
			NOR = {
				in_battle = yes
				in_command = yes
			}
		}
	}
}

# MAGIC ATTACKS 
# FROM event_target:enemy should be set
defined_text = {
	name = GetMagicAttack
	text = {
		localisation_key = GetMagicAttack_Ice
		trigger = {
			trait = lore_ice
		}
	}
	text = {
		localisation_key = GetMagicAttack_Light
		trigger = {
			trait = lore_light
		}
	}
	text = {
		trigger = {
			NOR = {
				trait = lore_ice
			}
		}
		localisation_key = GetMagicAttack_Generic
	}
}
# Magic maiming attack
defined_text = {
	name = GetMagicMaimAttack
	text = {
		localisation_key = GetMagicMaimAttack_Ice
		trigger = {
			trait = lore_ice
		}
	}
	text = {
		localisation_key = GetMagicMaimAttack_Generic
		trigger = {
			NOR = {
				trait = lore_ice
			}
		}
	}
}
# Magic attack that results in enemy death
defined_text = {
	name = GetMagicDeathAttack
	text = {
		localisation_key = GetMagicDeathAttack_Ice
		trigger = {
			trait = lore_ice
		}
	}
	text = {
		localisation_key = GetMagicDeathAttack_Generic
		trigger = { 
			NOR = {
				trait = lore_ice
			}
		}
	}
}
