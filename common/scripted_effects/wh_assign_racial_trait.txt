#New System Created By FaolDeTeine
new_character_effect = {
	remove_trait = rulerdesigned_creature
	ROOT = {
		character_event = {
			id = wh_setup.3
			days = 10
		}
	}
	if = {
		limit = {
			is_human = yes
		}
		add_trait = creature_human
		if = {
			limit = {
				culture = albion_main
			}
			set_graphical_culture = albion_main
		}
		if = {
			limit = {
				culture = amazon
			}
			set_graphical_culture = amazon
		}
		if = {
			limit = {
				culture = cophic
			}
			set_graphical_culture = cophic
		}
		if = {
			limit = {
				culture = medean
			}
			set_graphical_culture = medean
		}
		if = {
			limit = {
				culture = ramaccan
			}
			set_graphical_culture = ramaccan
		}
		if = {
			limit = {
				culture = tevari
			}
			set_graphical_culture = tevari
		}
		if = {
			limit = {
				culture = hadmauti
			}
			set_graphical_culture = hadmauti
		}
		if = {
			limit = {
				culture = armoric
			}
			set_graphical_culture = armoric
		}
		if = {
			limit = {
				culture = bourgon
			}
			set_graphical_culture = bourgon
		}
		if = {
			limit = {
				culture = breton
			}
			set_graphical_culture = breton
		}
		if = {
			limit = {
				culture = carcassian
			}
			set_graphical_culture = carcassian
		}
		if = {
			limit = {
				culture = gascon
			}
			set_graphical_culture = gascon
		}
		if = {
			limit = {
				culture = gisoren
			}
			set_graphical_culture = gisoren
		}
		if = {
			limit = {
				culture = marcheur
			}
			set_graphical_culture = marcheur
		}
		if = {
			limit = {
				culture = mousillonian
			}
			set_graphical_culture = mousillonian
		}
		if = {
			limit = {
				culture = old_breton
			}
			set_graphical_culture = old_breton
		}
		if = {
			limit = {
				culture = astur
			}
			set_graphical_culture = astur
		}
		if = {
			limit = {
				culture = avilian
			}
			set_graphical_culture = avilian
		}
		if = {
			limit = {
				culture = galice
			}
			set_graphical_culture = galice
		}
		if = {
			limit = {
				culture = montanese
			}
			set_graphical_culture = montanese
		}
		if = {
			limit = {
				culture = norteno
			}
			set_graphical_culture = norteno
		}
		if = {
			limit = {
				culture = obregonese
			}
			set_graphical_culture = obregonese
		}
		if = {
			limit = {
				culture = comarcano
			}
			set_graphical_culture = comarcano
		}
		if = {
			limit = {
				culture = tigarrese
			}
			set_graphical_culture = tigarrese
		}
		if = {
			limit = {
				culture = chi_an
			}
			set_graphical_culture = chi_an
		}
		if = {
			limit = {
				culture = kuj
			}
			set_graphical_culture = kuj
		}
		if = {
			limit = {
				culture = man_chu
			}
			set_graphical_culture = man_chu
		}
		if = {
			limit = {
				culture = mung
			}
			set_graphical_culture = mung
		}
		if = {
			limit = {
				culture = tong
			}
			set_graphical_culture = tong
		}
		if = {
			limit = {
				culture = tu_ka
			}
			set_graphical_culture = tu_ka
		}
		if = {
			limit = {
				culture = wei_tu
			}
			set_graphical_culture = wei_tu
		}
		if = {
			limit = {
				culture = wo
			}
			set_graphical_culture = wo
		}
		if = {
			limit = {
				culture = yin
			}
			set_graphical_culture = yin
		}
		if = {
			limit = {
				culture = immortal_imperial
			}
			set_graphical_culture = immortal_imperial
		}
		if = {
			limit = {
				culture = averlander
			}
			set_graphical_culture = averlander
		}
		if = {
			limit = {
				culture = drakwalder
			}
			set_graphical_culture = drakwalder
		}
		if = {
			limit = {
				culture = hochlander
			}
			set_graphical_culture = hochlander
		}
		if = {
			limit = {
				culture = middenlander
			}
			set_graphical_culture = middenlander
		}
		if = {
			limit = {
				culture = nordlander
			}
			set_graphical_culture = nordlander
		}
		if = {
			limit = {
				culture = neueslander
			}
			set_graphical_culture = neueslander
		}
		if = {
			limit = {
				culture = old_imperial
			}
			set_graphical_culture = old_imperial
		}
		if = {
			limit = {
				culture = ostermarker
			}
			set_graphical_culture = ostermarker
		}
		if = {
			limit = {
				culture = ostlander
			}
			set_graphical_culture = ostlander
		}
		if = {
			limit = {
				culture = reiklander
			}
			set_graphical_culture = reiklander
		}
		if = {
			limit = {
				culture = sollander
			}
			set_graphical_culture = sollander
		}
		if = {
			limit = {
				culture = stirlander
			}
			set_graphical_culture = stirlander
		}
		if = {
			limit = {
				culture = sylvanian
			}
			set_graphical_culture = sylvanian
		}
		if = {
			limit = {
				culture = talabeclander
			}
			set_graphical_culture = talabeclander
		}
		if = {
			limit = {
				culture = westerlander
			}
			set_graphical_culture = westerlander
		}
		if = {
			limit = {
				culture = wissenlander
			}
			set_graphical_culture = wissenlander
		}
		if = {
			limit = {
				culture = witchhunter_culture
			}
			set_graphical_culture = witchhunter_culture
			add_trait = witch_hunter
		}
		if = {
			limit = {
				culture = sudenburger
			}
			set_graphical_culture = sudenburger
		}
		if = {
			limit = {
				culture = gospodar
			}
			set_graphical_culture = gospodar
		}
		if = {
			limit = {
				culture = kislevite
			}
			set_graphical_culture = kislevite
		}
		if = {
			limit = {
				culture = ropsmann
			}
			set_graphical_culture = ropsmann
		}
		if = {
			limit = {
				culture = ungol
			}
			set_graphical_culture = ungol
		}
		if = {
			limit = {
				culture = aghol
			}
			set_graphical_culture = aghol
		}
		if = {
			limit = {
				culture = dolgan
			}
			set_graphical_culture = dolgan
		}
		if = {
			limit = {
				culture = gharhar
			}
			set_graphical_culture = gharhar
		}
		if = {
			limit = {
				culture = hastling
			}
			set_graphical_culture = hastling
		}
		if = {
			limit = {
				culture = khazag
			}
			set_graphical_culture = khazag
		}
		if = {
			limit = {
				culture = kul
			}
			set_graphical_culture = kul
		}
		if = {
			limit = {
				culture = kvellig
			}
			set_graphical_culture = kvellig
		}
		if = {
			limit = {
				culture = tahmak
			}
			set_graphical_culture = tahmak
		}
		if = {
			limit = {
				culture = tokmar
			}
			set_graphical_culture = tokmar
		}
		if = {
			limit = {
				culture = yusak
			}
			set_graphical_culture = yusak
		}
		if = {
			limit = {
				culture = lahmian
			}
			set_graphical_culture = lahmian
		}
		if = {
			limit = {
				culture = nehekka
			}
			set_graphical_culture = nehekka
		}
		if = {
			limit = {
				culture = amazon_main
			}
			set_graphical_culture = amazon_main
		}
		if = {
			limit = {
				culture = aesling
			}
			set_graphical_culture = aesling
		}
		if = {
			limit = {
				culture = baersonling
			}
			set_graphical_culture = baersonling
		}
		if = {
			limit = {
				culture = bjornling
			}
			set_graphical_culture = bjornling
		}
		if = {
			limit = {
				culture = fjarmann
			}
			set_graphical_culture = fjarmann
		}
		if = {
			limit = {
				culture = graeling
			}
			set_graphical_culture = graeling
		}
		if = {
			limit = {
				culture = sarl
			}
			set_graphical_culture = sarl
		}
		if = {
			limit = {
				culture = skaeling
			}
			set_graphical_culture = skaeling
		}
		if = {
			limit = {
				culture = varg
			}
			set_graphical_culture = varg
		}
		if = {
			limit = {
				culture = lucian
			}
			set_graphical_culture = lucian
		}
		if = {
			limit = {
				culture = miraglian
			}
			set_graphical_culture = miraglian
		}
		if = {
			limit = {
				culture = myken
			}
			set_graphical_culture = myken
		}
		if = {
			limit = {
				culture = oltremari
			}
			set_graphical_culture = oltremari
		}
		if = {
			limit = {
				culture = reman
			}
			set_graphical_culture = reman
		}
		if = {
			limit = {
				culture = tobaran
			}
			set_graphical_culture = tobaran
		}
		if = {
			limit = {
				culture = umbrian
			}
			set_graphical_culture = umbrian
		}
		if = {
			limit = {
				culture = cathayan
			}
			set_graphical_culture = cathayan
		}
		if = {
			limit = {
				culture = indish
			}
			set_graphical_culture = indish
		}
		if = {
			limit = {
				culture = nipponese
			}
			set_graphical_culture = nipponese
		}
		if = {
			limit = {
				culture = living_jade
			}
			set_graphical_culture = living_jade
		}
		if = {
			limit = {
				culture = strigany
			}
			set_graphical_culture = strigany
		}
		if = {
			limit = {
				culture = strygan
			}
			set_graphical_culture = strygan
		}
		if = {
			limit = {
				culture = bayaji
			}
			set_graphical_culture = bayaji
		}
		if = {
			limit = {
				culture = wasai
			}
			set_graphical_culture = wasai
		}
		if = {
			limit = {
				culture = wasaili
			}
			set_graphical_culture = wasaili
		}
		if = {
			limit = {
				culture = sartosan_arabyan
			}
			set_graphical_culture = sartosan_arabyan
		}
		if = {
			limit = {
				culture = sartosan_norscan
			}
			set_graphical_culture = sartosan_norscan
		}
		if = {
			limit = {
				culture = sartosan_tilean
			}
			set_graphical_culture = sartosan_tilean
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = amazon_group
			is_female = yes
		}
		add_trait = creature_amazon
		if = {
			limit = {
				culture = amazon_main
			}
			set_graphical_culture = amazon_main
		}
		break = yes
	}
	if = {
		limit = {
			is_elf = yes
		}
		add_trait = creature_elf
		if = {
			limit = {
				age < 45
			}
			if = {
				limit = {
					is_female = yes
				}
				add_trait = elven_maiden
			}
			if = {
				limit = {
					is_female = no
				}
				add_trait = elven_scion
			}
		}
		if = {
			limit = {
				culture = loren
			}
			set_graphical_culture = loren
		}
		if = {
			limit = {
				culture = autarri
			}
			set_graphical_culture = autarri
		}
		if = {
			limit = {
				culture = clari
			}
			set_graphical_culture = clari
		}
		if = {
			limit = {
				culture = ganethi
			}
			set_graphical_culture = ganethi
		}
		if = {
			limit = {
				culture = ghrondari
			}
			set_graphical_culture = ghrondari
		}
		if = {
			limit = {
				culture = graefi
			}
			set_graphical_culture = graefi
		}
		if = {
			limit = {
				culture = karondi
			}
			set_graphical_culture = karondi
		}
		if = {
			limit = {
				culture = naggarondi
			}
			set_graphical_culture = naggarondi
		}
		if = {
			limit = {
				culture = avelorni
			}
			set_graphical_culture = avelorni
		}
		if = {
			limit = {
				culture = caledori
			}
			set_graphical_culture = caledori
		}
		if = {
			limit = {
				culture = chracian
			}
			set_graphical_culture = chracian
		}
		if = {
			limit = {
				culture = cothiq
			}
			set_graphical_culture = cothiq
		}
		if = {
			limit = {
				culture = eatainian
			}
			set_graphical_culture = eatainian
		}
		if = {
			limit = {
				culture = ellyrian
			}
			set_graphical_culture = ellyrian
		}
		if = {
			limit = {
				culture = nagarythi
			}
			set_graphical_culture = nagarythi
		}
		if = {
			limit = {
				culture = sapherian
			}
			set_graphical_culture = sapherian
		}
		if = {
			limit = {
				culture = tiranoci
			}
			set_graphical_culture = tiranoci
		}
		if = {
			limit = {
				culture = yvressi
			}
			set_graphical_culture = yvressi
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = dwarf_group
		}
		add_trait = creature_dwarf
		if = {
			limit = {
				age < 75
			}
			add_trait = beardling
		}
		if = {
			limit = {
				age = 75
				is_female = no
			}
			random_list = {
				15 = {
					modifier = {
						factor = 4
						martial = 10
						NOT = {
							trait = craven
						}
					}
					add_trait = dwarf_warrior
				}
				5 = {
					modifier = {
						factor = 4
						martial = 10
						NOT = {
							trait = craven
						}
					}
					add_trait = quarreller
				}
				5 = {
					modifier = {
						factor = 4
						martial = 10
						NOT = {
							trait = craven
						}
					}
						add_trait = thunderer
				}
				75 = {
					modifier = {
						factor = 0
						martial = 10
						NOT = {
							trait = craven
						}
					}
					set_character_flag = dwarf_did_not_become_warrior
				}
			}
		}
		if = {
			limit = {
				culture = dwarf_main
			}
			set_graphical_culture = dwarf_main
		}
		if = {
			limit = {
				culture = dwarf_imperial
			}
			set_graphical_culture = dwarf_imperial
		}
		if = {
			limit = {
				culture = dwarf_norse
			}
			set_graphical_culture = dwarf_norse
		}
		if = {
			limit = {
				culture = dwarf_slayer_culture
			}
			set_graphical_culture = dwarf_slayer_culture
			add_trait = dwarf_slayer
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = dwarf_chaos_group
		}
		add_trait = creature_chaos_dwarf
		if = {
			limit = {
				culture = dwarf_chaos
			}
			set_graphical_culture = dwarf_chaos
		}
		break = yes
	}
	if = {
		limit = {
			OR = {
				culture_group = halfling_old_world
				culture_group = halfling_lustrian
			}
		}
		add_trait = creature_halfling
		if = {
			limit = {
				culture = mootlander
			}
			set_graphical_culture = mootlander
		}
		if = {
			limit = {
				culture = miyan
			}
			set_graphical_culture = miyan
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = orc_group
		}
		add_trait = creature_orc
		if = {
			limit = {
				NOR = {
					graphical_culture = blackorcgfx
					culture = orc_black
				}
			}
			random_list = {
				25 = {
					add_trait = orc_small
				}
				25 = {
					add_trait = orc_average
				}
				25 = {
					add_trait = orc_large
				}
				25 = {
					add_trait = orc_huge
				}
			}
		}
		if = {
			limit = {
				OR = {
					graphical_culture = blackorcgfx
					culture = orc_black
				}
			}
			add_trait = black_orc_trait
			add_trait = orc_huge
			culture = orc_main
			set_graphical_culture = orc_black
			break = yes
		}
		if = {
			limit = {
				culture = orc_main
			}
			set_graphical_culture = orc_main
		}
		if = {
			limit = {
				culture = orc_savage
			}
			set_graphical_culture = orc_savage
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = goblin_group
		}
		add_trait = creature_goblin
		random_list = {
			25 = {
				add_trait = goblin_small
			}
			25 = {
				add_trait = goblin_average
			}
			25 = {
				add_trait = goblin_large
			}
			25 = {
				add_trait = goblin_huge
			}
		}
		if = {
			limit = {
				culture = goblin_main
			}
			set_graphical_culture = goblin_main
		}
		if = {
			limit = {
				culture = goblin_forest
			}
			set_graphical_culture = goblin_forest
		}
		if = {
			limit = {
				culture = goblin_night
			}
			set_graphical_culture = goblin_night
		}
		if = {
			limit = {
				culture = hobgoblin
			}
			set_graphical_culture = hobgoblin
		}
		break = yes
	}
	if = {
		limit = {
			OR = {
				culture = nehekharan
				graphical_culture = nehekharangfx
			}
		}
		add_trait = creature_nehekharan
		add_age = 100
		if = {
			limit = {
				ai = no
			}
			ROOT = {
				character_event = {
					id = wh_setup.2
					days = 1
				}
			}
		}
		if = {
			limit = {
				ai = yes
				NOR = {
					trait = khemri_liche_priest
					trait = khemri_tomb_king
					trait = khemri_soldier
				}
			}
			if = {
				limit = {
					is_theocracy = yes
				}
				add_trait = khemri_liche_priest
			}
			if = {
				limit = {
					is_landed = yes
					NOT = { is_theocracy = yes }
				}
				add_trait = khemri_tomb_king
			}
			if = {
				limit = {
					NOT = { is_landed = yes }
				}
				add_trait = khemri_soldier
			}
		}
		if = {
			limit = {
				culture = nehekharan
			}
			set_graphical_culture = nehekharan
		}
		if = {
			limit = {
				graphical_culture = nehekharangfx
			}
			culture = nehekharan
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = skaven_group
		}
		add_trait = creature_skaven
		if = {
			limit = {
				OR = {
					graphical_culture = skavenblackgfx
					AND = {
						culture = skaven_black
						NOT = { graphical_culture = skavenwhitegfx }
					}
				}
			}
			add_trait = black_skaven
			set_graphical_culture = skaven_black
		}
		if = {
			limit = {
				culture = skaven_black
			}
			culture = skaven_main
			break = yes
		}
		if = {
			limit = {
				OR = {
					graphical_culture = skavenwhitegfx
					AND = {
						culture = skaven_white
						NOT = { graphical_culture = skavenblackgfx }
					}
				}
			}
			add_trait = white_skaven
			set_graphical_culture = skaven_white
		}
		if = {
			limit = {
				culture = skaven_white
			}
			culture = skaven_main
			break = yes
		}
		if = {
			limit = {
				culture = moulder
			}
			set_graphical_culture = moulder
		}
		if = {
			limit = {
				culture = pestilens
			}
			set_graphical_culture = pestilens
		}
		if = {
			limit = {
				culture = skryre
			}
			set_graphical_culture = skryre
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = ogre_group
		}
		add_trait = creature_ogre
		if = {
			limit = {
				culture = ogre_main
			}
			set_graphical_culture = ogre_main
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = beastman_group
		}
		add_trait = creature_beastman
		random_list = {
			30 = {
				add_trait = horns_small
			}
			50 = {
				add_trait = horns_average
			}
			20 = {
				add_trait = horns_big
			}
		}
		if = {
			limit = {
				culture = beastman_main
			}
			set_graphical_culture = beastman_main
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = forest_group
		}
		add_trait = creature_forestspirit
		if = {
			limit = {
				culture = forest_main
			}
			set_graphical_culture = forest_main
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = lizardman_group
			is_female = no
			NOR = {
				graphical_culture = slanngfx
				culture = slann
			}
		}
		add_trait = creature_skink
		if = {
			limit = {
				culture = lizardman
			}
			set_graphical_culture = lizardman
		}
		if = {
			limit = {
				culture = lizardman_southland
			}
			set_graphical_culture = lizardman_southland
		}
		if = {
			limit = {
				culture = lizardman_lost
			}
			set_graphical_culture = lizardman_lost
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = lizardman_group
			OR = {
				graphical_culture = slanngfx
				culture = slann
			}
		}
		add_trait = creature_slann
		if = {
			limit = {
				NOT = { graphical_culture = slanngfx }
			}
			set_graphical_culture = slann
		}
		if = {
			limit = {
				culture = slann
				capital_scope = {
					region = world_greater_araby
				}
			}
			culture = lizardman_southland
		}
		if = {
			limit = {
				culture = slann
				capital_scope = {
					region = world_greater_araby
				}
			}
			culture = lizardman_southland
		}
		if = {
			limit = {
				culture = slann
				capital_scope = {
					region = world_dragon_isles
				}
			}
			culture = lizardman_lost
		}
		else = {
			culture = lizardman
		}
		break = yes
	}
	if = {
		limit = {
			culture_group = lizardman_group
			is_female = yes
		}
		add_trait = creature_saurus
		if = {
			limit = {
				culture = lizardman
			}
			set_graphical_culture = lizardman
		}
		if = {
			limit = {
				culture = lizardman_southland
			}
			set_graphical_culture = lizardman_southland
		}
		if = {
			limit = {
				culture = lizardman_lost
			}
			set_graphical_culture = lizardman_lost
		}
		break = yes
	}
}
remove_education_trait = {
	remove_trait = amateurish_plotter
	remove_trait = flamboyant_schemer
	remove_trait = intricate_webweaver
	remove_trait = elusive_shadow
	remove_trait = naive_appeaser
	remove_trait = underhanded_rogue
	remove_trait = charismatic_negotiator
	remove_trait = grey_eminence
	remove_trait = indulgent_wastrel
	remove_trait = thrifty_clerk
	remove_trait = fortune_builder
	remove_trait = midas_touched
	remove_trait = misguided_warrior
	remove_trait = tough_soldier
	remove_trait = skilled_tactician
	remove_trait = brilliant_strategist
	remove_trait = detached_priest
	remove_trait = martial_cleric
	remove_trait = scholarly_theologian
	remove_trait = mastermind_theologian
}
