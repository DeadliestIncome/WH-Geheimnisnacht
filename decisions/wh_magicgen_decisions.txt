###SPELL INTERACTION###
#Add the decisions in a nice order which will make sense in the menu! For example, ranked by cost/reward.

#CHANNELING (GAIN MANA)
offmap_decisions = {
	magic_channeling = {
		only_playable = yes
		button_name = offmap_gifts
		ai_check_interval = 12

		potential = {
			is_offmap_tag = offmap_magic
		}

		from_potential = {
			magic_offmap_enabled_trigger = yes
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no
				NOT = { trait = incapable }
				is_inaccessible_trigger = no
			}
		}
		effect = {
			FROM = {
				sound_effect = china_grace_gain
				add_character_modifier = {
					name = channeling
					months = 4
				}
				hidden_tooltip = {
					if = {
						limit = { trait = magic_potential_1 }
						random_list = {
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 2
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 3
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_medium = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 4
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 5
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 6
								}
							}
						}
					}
					else_if = {
						limit = { trait = magic_potential_2 }
						random_list = {
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 3
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 4
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_medium = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 5
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 6
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 7
								}
							}
						}
					}
					else_if = {
						limit = { trait = magic_potential_3 }
						random_list = {
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 4
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 5
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_medium = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 6
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 7
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 8
								}
							}
						}
					}
					else_if = {
						limit = { trait = magic_potential_4 }
						random_list = {
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 5
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_low = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 6
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_medium = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 7
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 8
								}
							}
							20 = {
								modifier = {
									factor = 2.0
									is_doom_very_high = yes
								}
								add_offmap_currency = {
									offmap = offmap_magic
									value = 9
								}
							}
						}
					}
				}
			}
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.05 # slow way down
			}
		}
	}
}



#REQUESTING BOON DECISIONS (PENDING GRACE)
offmap_decisions = {
}
