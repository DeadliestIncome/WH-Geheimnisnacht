targeted_decisions = {

	alliance_proposal = {

		ai_target_filter = independent_rulers
		ai_check_interval = 6 # Determines how seldom the AI checks whether they can and should do the decision, in months.

		from_potential = {
			is_landed = yes
			OR = {
				ai = no
				independent = yes
			}
		}

		potential = {
			prisoner = no
			NOT = { has_non_aggression_pact_with = FROM }
		}
		allow = {
			#These conditions are for ROOT.
			opinion = { who = FROM value = 75 }
			NOT = { has_non_aggression_pact_with = FROM }
			prisoner = no
			is_within_diplo_range = FROM
			custom_tooltip = {
				text = compatible_alliance_prop
				OR = {
					AND = {
						ROOT = {
							religion_group = old_world_group
						}
						FROM = {
							OR = {
								religion_group = old_world_group
								religion_group = dwarf_gods_group
								religion_group = cadai_group
							}
						}
					}
					AND = {
						ROOT = {
							religion_group = dwarf_gods_group
						}
						FROM = {
							OR = {
								religion_group = old_world_group
								religion_group = dwarf_gods_group
							}
						}
					}
					AND = {
						ROOT = {
							religion_group = FROM
						}
						FROM = {
							religion_group = ROOT
						}
					}
				}
			}
			custom_tooltip = {
				text = already_sent_alliance_prop
				NOT = { has_opinion_modifier = { who = FROM modifier = sent_alliance_prop } }
			}

		}
		effect = {
			opinion = {
				who = FROM
				modifier = sent_alliance_prop
				months = 6
			}
			letter_event = { id = Alliance.100 }
		}
		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 0.1
		}
	}
}
